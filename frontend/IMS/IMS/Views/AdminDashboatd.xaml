<Page x:Class="IMS.Views.AdminDashboatd"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Admin Dashboard"
      Background="White" Height="896" Width="946">

    <Grid Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- LEFT: Users list + control buttons -->
        <StackPanel Grid.Column="0" Margin="0,0,20,0">
            <TextBlock Text="Users" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
            <ListBox x:Name="UsersList" Height="200" SelectionChanged="UsersList_SelectionChanged"/>

            <Button Content="Refresh Users" Margin="0,10,0,0" Click="RefreshUsers_Click"/>
            <Button Content="Delete Selected User" Margin="0,5,0,0" Click="DeleteUser_Click"/>
        </StackPanel>

        <!-- RIGHT: User details + logs + create user form -->
        <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>

                <!-- Section: Selected User Details -->
                <TextBlock Text="User Details" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                <TextBlock Text="Username:" FontWeight="Bold"/>
                <TextBlock x:Name="SelectedUsername" Margin="0,0,0,10"/>

                <TextBlock Text="Role:" FontWeight="Bold"/>
                <TextBlock x:Name="SelectedRole" Margin="0,0,0,10"/>

                <TextBlock Text="Permissions:" FontWeight="Bold"/>
                <StackPanel x:Name="PermissionsPanel" Margin="0,5,0,20"/>

                <Button Content="View Audit Logs" Click="ViewAuditLogs_Click" Margin="0,10,0,0"/>
                <ListBox x:Name="AuditList" Height="120" Margin="0,10,0,20"/>

                <!-- Divider -->
                <Separator Margin="0,20,0,20"/>

                <!-- Section: Create New User -->
                <TextBlock Text="Create New User" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                <StackPanel Orientation="Vertical" Width="300">

                    <TextBlock Text="Username:"/>
                    <TextBox x:Name="NewUsernameInput" Margin="0,5,0,10"/>

                    <TextBlock Text="Password:"/>
                    <PasswordBox x:Name="NewPasswordInput" Margin="0,5,0,10"/>

                    <TextBlock Text="Role:"/>
                    <ComboBox x:Name="RoleComboBox" Margin="0,5,0,10" SelectedIndex="0">
                        <ComboBoxItem Content="staff"/>
                        <ComboBoxItem Content="admin"/>
                    </ComboBox>

                    <TextBlock Text="Permissions:" Margin="0,0,0,5"/>
                    <TextBlock Text="Permissions:" FontWeight="Bold" Margin="0,10,0,5"/>
                    <ScrollViewer Height="200" VerticalScrollBarVisibility="Auto">
                        <UniformGrid Columns="2" Rows="6" Margin="0,0,0,10">

                            <!-- Ledger -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Ledger" FontWeight="SemiBold"/>
                                <CheckBox x:Name="LedgerRead" Content="Read" IsChecked="True"/>
                                <CheckBox x:Name="LedgerWrite" Content="Write"/>
                            </StackPanel>

                            <!-- APD -->
                            <StackPanel Margin="5">
                                <TextBlock Text="APD" FontWeight="SemiBold"/>
                                <CheckBox x:Name="ApdRead" Content="Read"/>
                                <CheckBox x:Name="ApdWrite" Content="Write"/>
                            </StackPanel>

                            <!-- Overhaul Scale -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Overhaul Scale" FontWeight="SemiBold"/>
                                <CheckBox x:Name="OverhaulRead" Content="Read"/>
                                <CheckBox x:Name="OverhaulWrite" Content="Write"/>
                            </StackPanel>

                            <!-- Receive Voucher -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Receive Voucher" FontWeight="SemiBold"/>
                                <CheckBox x:Name="RecieveRead" Content="Read"/>
                                <CheckBox x:Name="RecieveWrite" Content="Write"/>
                            </StackPanel>

                            <!-- Issue Voucher -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Issue Voucher" FontWeight="SemiBold"/>
                                <CheckBox x:Name="IssueRead" Content="Read"/>
                                <CheckBox x:Name="IssueWrite" Content="Write"/>
                            </StackPanel>

                            <!-- Local Purchase Indent -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Local Purchase Indent" FontWeight="SemiBold"/>
                                <CheckBox x:Name="LPIRead" Content="Read"/>
                                <CheckBox x:Name="LPIWrite" Content="Write"/>
                            </StackPanel>

                            <!-- Local Purchase Quotation -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Local Purchase Quotation" FontWeight="SemiBold"/>
                                <CheckBox x:Name="LPQRead" Content="Read"/>
                                <CheckBox x:Name="LPQWrite" Content="Write"/>
                            </StackPanel>

                            <!-- Local Purchase Received -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Local Purchase Received" FontWeight="SemiBold"/>
                                <CheckBox x:Name="LPRRead" Content="Read"/>
                                <CheckBox x:Name="LPRWrite" Content="Write"/>
                            </StackPanel>

                            <!-- Local Purchase Ordinance -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Local Purchase Ordinance" FontWeight="SemiBold"/>
                                <CheckBox x:Name="LPORead" Content="Read"/>
                                <CheckBox x:Name="LPOWrite" Content="Write"/>
                            </StackPanel>

                            <!-- Local Purchase Pay -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Local Purchase Pay" FontWeight="SemiBold"/>
                                <CheckBox x:Name="LPPayRead" Content="Read"/>
                                <CheckBox x:Name="LPPayWrite" Content="Write"/>
                            </StackPanel>

                            <!-- Local Purchase Query -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Local Purchase Query" FontWeight="SemiBold"/>
                                <CheckBox x:Name="LPQyRead" Content="Read"/>
                                <CheckBox x:Name="LPQyWrite" Content="Write"/>
                            </StackPanel>

                            <!-- Local Purchase Ammend -->
                            <StackPanel Margin="5">
                                <TextBlock Text="Local Purchase Ammend" FontWeight="SemiBold"/>
                                <CheckBox x:Name="LPARead" Content="Read"/>
                                <CheckBox x:Name="LPAWrite" Content="Write"/>
                            </StackPanel>
                        </UniformGrid>
                    </ScrollViewer>

                    <Button Content="Create User" Margin="0,15,0,0" Click="SubmitNewUser_Click"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
