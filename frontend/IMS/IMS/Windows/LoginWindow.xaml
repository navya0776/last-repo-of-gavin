<Window x:Class="IMS.Windows.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize"
        WindowState="Normal"
        Background="#F6F6F6"
        FontFamily="Segoe UI"
        AllowsTransparency="False"
        Title="Login">

    <Grid>
        <!-- Center login card -->
        <Border Width="380"
                Height="400"
                Padding="28"
                Background="White"
                CornerRadius="10"
                HorizontalAlignment="Center"
                VerticalAlignment="Center" >
            <StackPanel VerticalAlignment="Center">

                <TextBlock Text="Welcome"
                           FontSize="24"
                           FontWeight="Bold"
                           Margin="0,0,0 ,16"
                           HorizontalAlignment="Center"
                           />

                <!-- Username -->
                <Grid Margin="0 15 0 0">
                    <TextBox x:Name="UsernameBox"
                             Height="36"
                             FontSize="14"
                             TextChanged="UsernameBox_TextChanged"/>

                    <TextBlock x:Name="UsernameWatermark"
                               Text="Username"
                               Foreground="#9D9D9D"
                               Margin="6 0 0 0"
                               VerticalAlignment="Center"
                               IsHitTestVisible="False"/>
                </Grid>

                <!-- Password -->
                <Grid Margin="0 20 0 0">
                    <PasswordBox x:Name="PasswordBox"
                                 Height="36"
                                 FontSize="14"
                                 PasswordChanged="PasswordBox_PasswordChanged"/>

                    <TextBlock x:Name="PasswordWatermark"
                               Text="Password"
                               Foreground="#9D9D9D"
                               Margin="6 0 0 0"
                               VerticalAlignment="Center"
                               IsHitTestVisible="False"/>
                </Grid>

                <!-- Login -->
                <Button Content="Login"
                        Margin="0 20 0 0"
                        Height="38"
                        Background="#2B7BE4"
                        Foreground="White"
                        BorderBrush="Transparent"
                        Click="Login_Click"/>

                <TextBlock x:Name="ErrorBlock"
                           Margin="0 10 0 0"
                           Foreground="Red"
                           Visibility="Collapsed"
                           FontSize="12"/>
            </StackPanel>
        </Border>

        <!-- Close on ESC -->
        <Button Content="X"
                Width="32"
                Height="32"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Margin="12"
                Background="Transparent"
                Foreground="Black"
                BorderThickness="0"
                Click="Close_Click"/>

        <Popup x:Name="ErrorPopup"
               Placement="Center"
               StaysOpen="False"
               IsOpen="False"
               AllowsTransparency="True">
            <Border Background="#ff5555"
                    CornerRadius="10"
                    Padding="15"
                    BorderBrush="Black"
                    BorderThickness="1"
                    Width="300">

                <StackPanel>
                    <TextBlock x:Name="ErrorText"
                               Foreground="White"
                               TextWrapping="Wrap"
                               FontSize="14" />

                    <Button Content="Close"
                            Margin="0,10,0,0"
                            HorizontalAlignment="Right"
                            Width="60"
                            Click="CloseErrorPopup_Click"/>
                </StackPanel>
            </Border>
        </Popup>

    </Grid>

</Window>
